<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>
<form>
<%= render 'navigation' %>
</form>
</body>
</html>

<%
  #Lokal DB2
  #conn = IBM_DB.connect("sample", "admin", "admin")
  conn = IBM_DB.connect("DRIVER={IBM DB2 ODBC DRIVER};DATABASE=mdh;\
                       HOSTNAME=wi-gate.technikum-wien.at;PORT=60831;PROTOCOL=TCPIP;\
                       UID=mydreahmouse;PWD=wi15b;", "", "")

  if conn
    puts "We're connected!"
    sql = "SELECT * FROM BENUTZER"
    #sql = "INSERT INTO HERSTELLER (HERSTELLER_ID, NAME) VALUES(2, 'Obi')"
    begin
      if stmt = IBM_DB.exec(conn, sql)
        while row = IBM_DB.fetch_assoc(stmt)

         #ebook = Ebook. new( row['BILD'], row['BENUTZER_ID'])
         #sample
         #my_object = { :array => [1, 2, 3, { :sample => "hash"} ], :foo => "bar" }
         #puts JSON.pretty_generate(my_object)

         #my_object = { 'bild' => "row['BILD'].to_s << "}, 'benutzerId' => "row['BENUTZER_ID'] << "}
         #a = Hash.new
         #a["bild"] = row['NAME']
         #a["benutzerId"] = row['HERSTELLER_ID']
         #%><%= JSON.pretty_generate(a) %><%
  #puts JSON.parse(a)

      # doge = Dog.new
       #doge.setDog(row['BENUTZER_ID'], 'white')
       #puts doge.legs

       #format.json render :text => @ebook
       #@ebook.bild.to_json
      #end
      IBM_DB.free_result(stmt)
    else
      puts "Statement execution failed: #{IBM_DB.getErrormsg}"
    end
    ensure
      IBM_DB.close(conn)
  end
  else
    puts "There was an error in the connection: #{IBM_DB.conn_errormsg}"
  end%>